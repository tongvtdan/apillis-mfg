# Factory Pulse Remote Supabase Backup Summary

**Backup Date**: Fri Sep 19 18:02:52 +07 2025
**Timestamp**: 20250919_180252
**Remote Instance**: ynhgxwnkpbpzwbtzrzka.supabase.co

## üìÅ Backup Files Created

### 1. Complete Backup (Schema + Data)
- **File**: `factory_pulse_remote_complete_backup_20250919_180252.sql`
- **Description**: Full database dump including schema, data, roles, and permissions
- **Size**: 206K
- **Use Case**: Complete restoration of the database

### 2. Data-Only Backup
- **File**: `factory_pulse_remote_data_backup_20250919_180252.sql`
- **Description**: Data records only (INSERT statements)
- **Size**: 25K
- **Use Case**: Data migration or selective data restoration
- **‚ö†Ô∏è Note**: Contains circular foreign key constraints warnings

### 3. Schema Backup
- **File**: `factory_pulse_remote_schema_backup_20250919_180252.sql`
- **Description**: Database schema, tables, indexes, functions, and RLS policies
- **Size**: 256K
- **Use Case**: Schema replication or structure-only restoration

## üîç Database Status

### Current Users
- **dantong@apillis.com**: Admin role, Management department
- **admin@apillis.com**: Admin role, IT department (password: admin123)

### Key Tables
- **users**: User profiles and authentication data
- **organizations**: Company/organization information
- **projects**: Manufacturing project data
- **workflow_stages**: Process workflow definitions
- **documents**: Document management system
- **suppliers**: Supplier management data

### Circular Foreign Key Constraints
- **users ‚Üî organizations**: Fixed with DEFERRABLE INITIALLY DEFERRED
- **messages**: Contains circular constraints (noted in warnings)

## üöÄ Restoration Instructions

### Full Restoration
```bash
supabase db reset --linked --include-all
```

### Schema Only
```bash
psql -h db.ynhgxwnkpbpzwbtzrzka.supabase.co -U postgres -d postgres -f factory_pulse_remote_schema_backup_20250919_180252.sql
```

### Data Only (Use with caution due to circular constraints)
```bash
psql -h db.ynhgxwnkpbpzwbtzrzka.supabase.co -U postgres -d postgres -f factory_pulse_remote_data_backup_20250919_180252.sql
```

## ‚úÖ Backup Verification

All backup files have been successfully created and are ready for use.
The remote Supabase instance is fully operational with admin access restored.

---
**Backup completed successfully at**: Fri Sep 19 18:02:52 +07 2025
